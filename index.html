<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Urhobo Encyclopedia - Preserving Our Heritage</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: .5; }
        }
        .animate-pulse { animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite; }
        
        @keyframes bounce {
            0%, 100% { transform: translateY(-25%); animation-timing-function: cubic-bezier(0.8, 0, 1, 1); }
            50% { transform: translateY(0); animation-timing-function: cubic-bezier(0, 0, 0.2, 1); }
        }
        .animate-bounce { animation: bounce 1s infinite; }
        
        .gradient-text {
            background: linear-gradient(to right, #f97316, #dc2626);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif; }
    </style>
</head>
<body class="bg-gradient-to-br from-orange-50 via-white to-blue-50">
    <div id="app"></div>

    <script>
        // State management
        const state = {
            isMenuOpen: false,
            scrolled: false,
            searchQuery: '',
            isSearchFocused: false,
            likedItems: new Set(),
            bookmarkedItems: new Set(),
            currentWordIndex: 0,
            isPlaying: false,
            quizAnswer: null,
            showQuizResult: false,
            userPoints: 0,
            streakDays: 7,
            activeCategory: null,
            activeVocabCategory: 'greetings',
            showLearningModule: false,
            currentLesson: 0,
            lessonProgress: 0,
            showConversationPractice: false,
            conversationStep: 0,
            userResponse: '',
            conversationFeedback: '',
            isRecording: false,
            pronunciationScore: null
        };

        // Data
        const wordsOfDay = [
            { word: 'Migwo', translation: "I'm on my knees (Greetings)", pronunciation: 'mee-gwoh', example: 'Migwo!' },
            { word: 'Orere', translation: 'Town', pronunciation: 'oh-reh-reh', example: 'Orere me!' },
            { word: 'Ufuoma', translation: 'Peace', pronunciation: 'oo-fwoh-mah', example: 'Ufuoma re o!' },
            { word: 'Orhurhu', translation: 'Thank you', pronunciation: 'or-roo-roo', example: 'Orhurhu vwe!' },
            { word: 'Vrendo', translation: 'Stand up and thank you', pronunciation: 'vren-doh', example: 'Vrendo!' },
            { word: 'Omagare?', translation: 'How are you?', pronunciation: 'oh-mah-gah-reh', example: 'Omagare?' },
            { word: 'Omamegare', translation: 'I am fine', pronunciation: 'oh-mah-meh-gah-reh', example: 'Omamegare!' },
            { word: 'Omamurhioke', translation: 'Good morning', pronunciation: 'oh-mah-moo-ree-oh-keh', example: 'Omamurhioke!' },
            { word: 'Omamughoruvo', translation: 'Good afternoon', pronunciation: 'oh-mah-moo-goh-roo-voh', example: 'Omamughoruvo!' },
            { word: 'Omamuvovo', translation: 'Good evening', pronunciation: 'oh-mah-moo-voh-voh', example: 'Omamuvovo!' },
            { word: 'Tode', translation: 'Good night', pronunciation: 'toh-deh', example: 'Tode!' }
        ];

        const vocabularyCategories = {
            greetings: {
                name: 'Greetings & Phrases',
                icon: 'üëã',
                color: 'orange',
                words: [
                    { urhobo: 'Migwo', english: "I'm on my knees (Greetings)", pronunciation: 'mee-gwoh' },
                    { urhobo: 'Omagare?', english: 'How are you?', pronunciation: 'oh-mah-gah-reh' },
                    { urhobo: 'Omamegare', english: 'I am fine', pronunciation: 'oh-mah-meh-gah-reh' },
                    { urhobo: 'Omamurhioke', english: 'Good morning', pronunciation: 'oh-mah-moo-ree-oh-keh' },
                    { urhobo: 'Omamughoruvo', english: 'Good afternoon', pronunciation: 'oh-mah-moo-goh-roo-voh' },
                    { urhobo: 'Omamuvovo', english: 'Good evening', pronunciation: 'oh-mah-moo-voh-voh' },
                    { urhobo: 'Tode', english: 'Good night', pronunciation: 'toh-deh' },
                    { urhobo: 'Orhurhu', english: 'Thank you', pronunciation: 'or-roo-roo' },
                    { urhobo: 'Vrendo', english: 'Stand up and thank you', pronunciation: 'vren-doh' }
                ]
            },
            numbers: {
                name: 'Numbers',
                icon: 'üî¢',
                color: 'blue',
                words: [
                    { urhobo: 'Oyen', english: 'One', pronunciation: 'oh-yen' },
                    { urhobo: 'ƒñrha', english: 'Two', pronunciation: 'er-ha' },
                    { urhobo: 'ƒñta', english: 'Three', pronunciation: 'er-ta' },
                    { urhobo: 'Oho', english: 'Four', pronunciation: 'oh-hoh' },
                    { urhobo: 'Urhurun', english: 'Five', pronunciation: 'oo-roo-roon' },
                    { urhobo: 'Erhie', english: 'Six', pronunciation: 'er-hee-eh' },
                    { urhobo: 'Erhije', english: 'Seven', pronunciation: 'er-hee-jeh' },
                    { urhobo: 'Erhro', english: 'Eight', pronunciation: 'er-roh' },
                    { urhobo: '·∫∏v·∫πn', english: 'Nine', pronunciation: 'eh-ven' },
                    { urhobo: 'Ihwren', english: 'Ten', pronunciation: 'ee-wren' }
                ]
            },
            family: {
                name: 'Family Members',
                icon: 'üë®‚Äçüë©‚Äçüëß‚Äçüë¶',
                color: 'green',
                words: [
                    { urhobo: 'Oniovo', english: 'Father', pronunciation: 'oh-nee-oh-voh' },
                    { urhobo: 'Oniruru', english: 'Mother', pronunciation: 'oh-nee-roo-roo' },
                    { urhobo: 'Omokaro', english: 'Child', pronunciation: 'oh-moh-kah-roh' },
                    { urhobo: 'Omumuo', english: 'Son', pronunciation: 'oh-moo-moo-oh' },
                    { urhobo: 'Umurhu', english: 'Daughter', pronunciation: 'oo-moo-roo' },
                    { urhobo: 'Oniara', english: 'Brother', pronunciation: 'oh-nee-ah-rah' },
                    { urhobo: 'Omokieme', english: 'Sister', pronunciation: 'oh-moh-kee-eh-meh' },
                    { urhobo: 'Okpara', english: 'Elder brother', pronunciation: 'ok-pah-rah' },
                    { urhobo: 'Koko', english: 'Grandmother', pronunciation: 'koh-koh' },
                    { urhobo: 'Tata', english: 'Grandfather', pronunciation: 'tah-tah' }
                ]
            },
            colors: {
                name: 'Colors',
                icon: 'üé®',
                color: 'purple',
                words: [
                    { urhobo: 'Ribievwe', english: 'White', pronunciation: 'ree-bee-eh-vweh' },
                    { urhobo: 'Otor', english: 'Black', pronunciation: 'oh-tor' },
                    { urhobo: '·ªåb·ªçr·ªç', english: 'Red', pronunciation: 'oh-boh-roh' },
                    { urhobo: '·∫∏vwri', english: 'Yellow', pronunciation: 'eh-vwree' },
                    { urhobo: 'Ughere', english: 'Blue', pronunciation: 'oo-geh-reh' },
                    { urhobo: '·ªår·ªçr·ªç', english: 'Green', pronunciation: 'oh-roh-roh' }
                ]
            },
            food: {
                name: 'Food & Drink',
                icon: 'üç≤',
                color: 'red',
                words: [
                    { urhobo: 'Oghwoghwo', english: 'Soup', pronunciation: 'oh-gwoh-gwoh' },
                    { urhobo: 'Usi·∫πvwri', english: 'Starch', pronunciation: 'oo-see-eh-vwree' },
                    { urhobo: 'Usi', english: 'Water', pronunciation: 'oo-see' },
                    { urhobo: 'Uhu·ªçri·ªç', english: 'Palm wine', pronunciation: 'oo-hoo-oh-ree-oh' },
                    { urhobo: 'Ovwirhi', english: 'Meat', pronunciation: 'oh-vwee-ree' },
                    { urhobo: 'Iriapha', english: 'Fish', pronunciation: 'ee-ree-ah-pah' },
                    { urhobo: 'Iyere', english: 'Yam', pronunciation: 'ee-yeh-reh' },
                    { urhobo: 'Ikpako', english: 'Cassava', pronunciation: 'ee-kpah-koh' },
                    { urhobo: 'Iy·ªçk·ªç', english: 'Banana', pronunciation: 'ee-yoh-koh' }
                ]
            },
            body: {
                name: 'Body Parts',
                icon: 'üë§',
                color: 'yellow',
                words: [
                    { urhobo: 'Ori', english: 'Head', pronunciation: 'oh-ree' },
                    { urhobo: 'Edj·∫π', english: 'Eye', pronunciation: 'eh-jeh' },
                    { urhobo: 'Ughurhu', english: 'Ear', pronunciation: 'oo-goo-roo' },
                    { urhobo: 'Imighe', english: 'Nose', pronunciation: 'ee-mee-geh' },
                    { urhobo: 'Enu', english: 'Mouth', pronunciation: 'eh-noo' },
                    { urhobo: 'Owo', english: 'Hand', pronunciation: 'oh-woh' },
                    { urhobo: 'Eghwa', english: 'Leg', pronunciation: 'eh-gwah' },
                    { urhobo: 'Ivri', english: 'Body', pronunciation: 'ee-vree' }
                ]
            }
        };

        const conversationDialogues = [
            {
                title: 'Morning Greeting',
                scene: '‚òÄÔ∏è Early Morning Market',
                dialogue: [
                    { speaker: 'You', urhobo: 'Omamurhioke!', english: 'Good morning!', shouldSay: true },
                    { speaker: 'Elder', urhobo: 'Omamurhioke! Omagare?', english: 'Good morning! How are you?', shouldSay: false },
                    { speaker: 'You', urhobo: 'Omamegare. Orhurhu!', english: "I'm fine. Thank you!", shouldSay: true },
                    { speaker: 'Elder', urhobo: 'Vrendo!', english: 'Stand up and thank you!', shouldSay: false }
                ]
            }
        ];

        const lessons = [
            {
                title: 'Basic Greetings',
                duration: '5 min',
                description: 'Learn essential Urhobo greetings for different times of day',
                content: vocabularyCategories.greetings.words.slice(0, 5)
            },
            {
                title: 'Numbers 1-10',
                duration: '8 min',
                description: 'Master counting from one to ten in Urhobo',
                content: vocabularyCategories.numbers.words
            },
            {
                title: 'Family Terms',
                duration: '10 min',
                description: 'Learn how to refer to family members',
                content: vocabularyCategories.family.words.slice(0, 6)
            },
            {
                title: 'Colors & Descriptions',
                duration: '6 min',
                description: 'Describe the world around you with colors',
                content: vocabularyCategories.colors.words
            }
        ];

        // Render functions
        function render() {
            const app = document.getElementById('app');
            
            if (state.showConversationPractice) {
                app.innerHTML = renderConversationPractice();
            } else if (state.showLearningModule) {
                app.innerHTML = renderLearningModule();
            } else {
                app.innerHTML = renderHomePage();
            }
            
            attachEventListeners();
        }

        function renderHomePage() {
            const currentWord = wordsOfDay[state.currentWordIndex];
            
            return `
                <!-- Navigation -->
                <nav class="fixed w-full z-50 transition-all duration-300 ${state.scrolled ? 'bg-white shadow-lg' : 'bg-transparent'}">
                    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                        <div class="flex justify-between items-center h-20">
                            <div class="flex items-center space-x-3">
                                <div class="w-12 h-12 bg-gradient-to-br from-orange-500 to-red-600 rounded-lg flex items-center justify-center text-white font-bold text-xl shadow-lg animate-pulse">
                                    ·ª§
                                </div>
                                <div>
                                    <h1 class="text-2xl font-bold text-gray-900">Urhobo Encyclopedia</h1>
                                    <p class="text-xs text-gray-600">‚ö° ${state.streakDays} day streak</p>
                                </div>
                            </div>

                            <div class="hidden md:flex items-center space-x-6">
                                <div class="flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-orange-500 to-red-600 rounded-full text-white">
                                    <span>üèÜ</span>
                                    <span class="font-bold">${state.userPoints} pts</span>
                                </div>
                                <button class="px-6 py-2 bg-gradient-to-r from-orange-500 to-red-600 text-white rounded-full hover:shadow-lg transition-all">
                                    Premium
                                </button>
                            </div>
                        </div>
                    </div>
                </nav>

                <!-- Hero Section -->
                <section class="pt-32 pb-20 px-4">
                    <div class="max-w-7xl mx-auto">
                        <div class="grid lg:grid-cols-3 gap-8">
                            <!-- Main Content -->
                            <div class="lg:col-span-2 space-y-6">
                                <div class="inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-orange-100 to-red-100 rounded-full text-orange-700 font-medium text-sm">
                                    ‚≠ê 10,000+ active learners this week
                                </div>
                                <h2 class="text-5xl md:text-6xl font-bold text-gray-900 leading-tight">
                                    Discover the <span class="gradient-text animate-pulse">Living</span> Heritage of Urhobo
                                </h2>
                                <p class="text-xl text-gray-600">
                                    Interactive platform connecting past and present. Learn language, explore culture, earn badges, and join a thriving community.
                                </p>
                                
                                <!-- Action Buttons -->
                                <div class="grid grid-cols-2 gap-4 mb-6">
                                    <button onclick="showLearning()" class="p-6 bg-gradient-to-br from-blue-500 to-purple-600 text-white rounded-2xl hover:shadow-2xl transition-all">
                                        <div class="text-4xl mb-2">üìö</div>
                                        <p class="font-bold text-lg">Start Learning</p>
                                        <p class="text-sm text-blue-100">Structured courses</p>
                                    </button>
                                    <button onclick="showConversation()" class="p-6 bg-gradient-to-br from-purple-500 to-pink-600 text-white rounded-2xl hover:shadow-2xl transition-all">
                                        <div class="text-4xl mb-2">üí¨</div>
                                        <p class="font-bold text-lg">Practice Dialogues</p>
                                        <p class="text-sm text-purple-100">Real conversations</p>
                                    </button>
                                </div>

                                <!-- Word of the Day -->
                                <div class="bg-white rounded-3xl p-8 shadow-2xl border-2 border-orange-100">
                                    <div class="flex items-center justify-between mb-6">
                                        <h3 class="text-lg font-bold text-gray-900">üìñ Word of the Day</h3>
                                        <div class="flex gap-2">
                                            ${wordsOfDay.map((_, idx) => `
                                                <div class="h-2 rounded-full transition-all ${idx === state.currentWordIndex ? 'w-8 bg-orange-500' : 'w-2 bg-gray-300'}"></div>
                                            `).join('')}
                                        </div>
                                    </div>
                                    
                                    <div class="space-y-4">
                                        <div class="flex items-end gap-4">
                                            <p class="text-5xl font-bold text-orange-600">${currentWord.word}</p>
                                            <button onclick="playAudio()" class="p-3 rounded-full transition-all ${state.isPlaying ? 'bg-orange-600 scale-110' : 'bg-orange-500 hover:bg-orange-600'}">
                                                <span class="text-white text-xl">üîä</span>
                                            </button>
                                        </div>
                                        <p class="text-2xl text-gray-700 font-medium">${currentWord.translation}</p>
                                        <p class="text-gray-500 italic">/${currentWord.pronunciation}/</p>
                                        <div class="bg-orange-50 rounded-xl p-4 border border-orange-200">
                                            <p class="text-sm text-gray-600 mb-1">Example:</p>
                                            <p class="text-lg font-medium text-gray-900">${currentWord.example}</p>
                                        </div>
                                        
                                        <div class="flex gap-3">
                                            <button onclick="likeWord()" class="flex-1 py-3 rounded-xl font-medium transition-all ${state.likedItems.has('word') ? 'bg-red-500 text-white' : 'bg-gray-100 text-gray-700 hover:bg-gray-200'}">
                                                ${state.likedItems.has('word') ? '‚ù§Ô∏è Liked!' : 'ü§ç Like'} (+5 pts)
                                            </button>
                                            <button onclick="bookmarkWord()" class="flex-1 py-3 rounded-xl font-medium transition-all ${state.bookmarkedItems.has('word') ? 'bg-blue-500 text-white' : 'bg-gray-100 text-gray-700 hover:bg-gray-200'}">
                                                ${state.bookmarkedItems.has('word') ? 'üîñ Saved' : 'üìë Save'}
                                            </button>
                                        </div>
                                    </div>
                                </div>

                                <!-- Quick Quiz -->
                                <div class="bg-gradient-to-br from-purple-500 to-pink-600 rounded-3xl p-8 text-white shadow-2xl">
                                    <h3 class="text-2xl font-bold mb-4">‚ö° Quick Challenge</h3>
                                    <p class="text-lg mb-6">What does "Migwo" mean in English?</p>
                                    <div class="grid grid-cols-2 gap-3">
                                        ${['Thank you', "I'm on my knees (Greetings)", 'Good morning', 'How are you?'].map((option, idx) => `
                                            <button onclick="answerQuiz(${idx})" ${state.showQuizResult ? 'disabled' : ''} class="p-4 rounded-xl font-medium transition-all ${
                                                state.showQuizResult
                                                    ? idx === 1 ? 'bg-green-500 scale-105' : idx === state.quizAnswer ? 'bg-red-500' : 'bg-white/20'
                                                    : 'bg-white/20 hover:bg-white/30'
                                            }">
                                                ${option} ${state.showQuizResult && idx === 1 ? '‚úì' : ''}
                                            </button>
                                        `).join('')}
                                    </div>
                                    ${state.showQuizResult ? `
                                        <p class="mt-4 text-center font-bold">
                                            ${state.quizAnswer === 1 ? 'üéâ Correct! +10 points' : '‚ùå Try again!'}
                                        </p>
                                    ` : ''}
                                </div>
                            </div>

                            <!-- Sidebar -->
                            <div class="space-y-6">
                                <div class="bg-white rounded-3xl p-6 shadow-lg">
                                    <h3 class="text-xl font-bold mb-4">üìà Trending Now</h3>
                                    <div class="space-y-3">
                                        <div class="p-4 bg-gradient-to-r from-gray-50 to-orange-50 rounded-xl">
                                            <div class="flex items-center gap-3">
                                                <span class="text-3xl">üíç</span>
                                                <div class="flex-1">
                                                    <p class="font-bold text-gray-900">Marriage Ceremonies</p>
                                                    <div class="flex items-center gap-3 text-sm text-gray-600">
                                                        <span>üëÅÔ∏è 12.5K</span>
                                                        <span class="text-green-600 font-medium">+15%</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Vocabulary Categories -->
                <section class="py-20 px-4 bg-gradient-to-br from-orange-100 to-pink-100">
                    <div class="max-w-7xl mx-auto">
                        <div class="text-center mb-12">
                            <h2 class="text-4xl font-bold text-gray-900 mb-4">Vocabulary Library</h2>
                            <p class="text-xl text-gray-600">Browse words by category</p>
                        </div>

                        <div class="flex flex-wrap gap-3 justify-center mb-8">
                            ${Object.entries(vocabularyCategories).map(([key, cat]) => `
                                <button onclick="changeVocabCategory('${key}')" class="px-6 py-3 rounded-full font-medium transition-all ${
                                    state.activeVocabCategory === key
                                        ? 'bg-orange-500 text-white shadow-lg scale-110'
                                        : 'bg-white text-gray-700 hover:shadow-md'
                                }">
                                    ${cat.icon} ${cat.name}
                                </button>
                            `).join('')}
                        </div>

                        <div class="bg-white rounded-3xl p-8 shadow-2xl">
                            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-4">
                                ${vocabularyCategories[state.activeVocabCategory].words.map(word => `
                                    <div class="bg-gradient-to-br from-orange-50 to-pink-50 rounded-2xl p-6 hover:shadow-lg transition-all">
                                        <div class="flex items-start justify-between mb-3">
                                            <div class="flex-1">
                                                <p class="text-2xl font-bold text-orange-600 mb-1">${word.urhobo}</p>
                                                <p class="text-lg text-gray-700">${word.english}</p>
                                                <p class="text-sm text-gray-500 italic">/${word.pronunciation}/</p>
                                            </div>
                                            <button onclick="playAudio()" class="p-3 bg-orange-500 hover:bg-orange-600 text-white rounded-full transition-all">
                                                üîä
                                            </button>
                                        </div>
                                    </div>
                                `).join('')}
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Footer -->
                <footer class="bg-gray-900 text-white py-12 px-4">
                    <div class="max-w-7xl mx-auto text-center">
                        <div class="flex items-center justify-center gap-2 mb-4">
                            <div class="w-8 h-8 bg-gradient-to-br from-orange-500 to-red-600 rounded-lg flex items-center justify-center text-sm font-bold">
                                ·ª§
                            </div>
                            <h3 class="text-xl font-bold">Urhobo Encyclopedia</h3>
                        </div>
                        <p class="text-gray-400 mb-4">Preserving heritage, connecting generations.</p>
                        <p class="text-gray-500">¬© 2025 Urhobo Encyclopedia. Made with ‚ù§Ô∏è for the Urhobo people.</p>
                    </div>
                </footer>
            `;
        }

        function renderLearningModule() {
            const lesson = lessons[state.currentLesson];
            return `
                <div class="min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 p-4">
                    <div class="max-w-4xl mx-auto">
                        <button onclick="backToHome()" class="mb-6 flex items-center gap-2 text-gray-700 hover:text-orange-600 transition-colors">
                            ‚Üê Back to Home
                        </button>

                        <div class="bg-white rounded-3xl p-8 shadow-2xl mb-6">
                            <div class="flex items-center justify-between mb-6">
                                <div>
                                    <h2 class="text-3xl font-bold text-gray-900">${lesson.title}</h2>
                                    <p class="text-gray-600">${lesson.description}</p>
                                </div>
                                <div class="text-right">
                                    <p class="text-sm text-gray-500">Duration</p>
                                    <p class="text-2xl font-bold text-orange-600">${lesson.duration}</p>
                                </div>
                            </div>

                            <div class="mb-6">
                                <div class="flex items-center justify-between mb-2">
                                    <span class="text-sm font-medium text-gray-700">Progress</span>
                                    <span class="text-sm font-bold text-orange-600">${state.lessonProgress}%</span>
                                </div>
                                <div class="h-3 bg-gray-200 rounded-full overflow-hidden">
                                    <div class="h-full bg-gradient-to-r from-orange-500 to-pink-500 transition-all duration-500" style="width: ${state.lessonProgress}%"></div>
                                </div>
                            </div>

                            <div class="grid gap-4">
                                ${lesson.content.map(word => `
                                    <div class="bg-gradient-to-r from-orange-50 to-pink-50 rounded-2xl p-6">
                                        <div class="flex items-center justify-between mb-4">
                                            <div class="flex-1">
                                                <p class="text-3xl font-bold text-orange-600 mb-2">${word.urhobo}</p>
                                                <p class="text-xl text-gray-700 mb-1">${word.english}</p>
                                                <p class="text-sm text-gray-500 italic">/${word.pronunciation}/</p>
                                            </div>
                                            <div class="flex flex-col gap-2">
                                                <button onclick="playAudio()" class="p-4 bg-orange-500 hover:bg-orange-600 text-white rounded-full transition-all">
                                                    üîä
                                                </button>
                                                <button onclick="recordPronunciation()" class="p-4 bg-purple-500 hover:bg-purple-600 text-white rounded-full transition-all">
                                                    üé§
                                                </button>
                                            </div>
                                        </div>
                                        ${state.pronunciationScore ? `
                                            <div class="bg-green-100 rounded-xl p-4 text-center animate-bounce">
                                                <p class="text-lg font-bold text-green-600">
                                                    Score: ${state.pronunciationScore}% (+${state.pronunciationScore} pts)
                                                </p>
                                            </div>
                                        ` : ''}
                                    </div>
                                `).join('')}
                            </div>

                            <button onclick="completeLesson()" class="w-full mt-6 py-4 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-xl font-bold text-lg hover:shadow-xl transition-all">
                                ${state.lessonProgress === 100 ? '‚úì Lesson Complete!' : 'Mark as Complete (+50 pts)'}
                            </button>
                        </div>

                        <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-4">
                            ${lessons.map((l, idx) => `
                                <button onclick="changeLesson(${idx})" class="p-4 rounded-2xl text-left transition-all ${
                                    idx === state.currentLesson
                                        ? 'bg-gradient-to-r from-orange-500 to-pink-500 text-white shadow-lg'
                                        : 'bg-white text-gray-900 hover:shadow-lg'
                                }">
                                    <p class="font-bold mb-1">${l.title}</p>
                                    <p class="text-sm ${idx === state.currentLesson ? 'text-orange-100' : 'text-gray-500'}">
                                        ${l.duration}
                                    </p>
                                </button>
                            `).join('')}
                        </div>
                    </div>
                </div>
            `;
        }

        function renderConversationPractice() {
            const currentConversation = conversationDialogues[0];
            return `
                <div class="min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-orange-50 p-4">
                    <div class="max-w-4xl mx-auto">
                        <button onclick="backToHome()" class="mb-6 flex items-center gap-2 text-gray-700 hover:text-orange-600 transition-colors">
                            ‚Üê Back to Home
                        </button>

                        <div class="bg-white rounded-3xl p-8 shadow-2xl">
                            <div class="text-center mb-8">
                                <div class="text-6xl mb-4">${currentConversation.scene}</div>
                                <h2 class="text-3xl font-bold text-gray-900 mb-2">${currentConversation.title}</h2>
                                <div class="flex items-center justify-center gap-2">
                                    ${currentConversation.dialogue.map((_, idx) => `
                                        <div class="h-2 rounded-full transition-all ${
                                            idx === state.conversationStep ? 'w-8 bg-purple-500' : 'w-2 bg-gray-300'
                                        }"></div>
                                    `).join('')}
                                </div>
                            </div>

                            <div class="space-y-4 mb-8">
                                ${currentConversation.dialogue.slice(0, state.conversationStep + 1).map((line, idx) => `
                                    <div class="flex ${line.speaker === 'You' ? 'justify-end' : 'justify-start'}">
                                        <div class="max-w-md p-4 rounded-2xl ${
                                            line.speaker === 'You'
                                                ? 'bg-gradient-to-r from-purple-500 to-pink-500 text-white'
                                                : 'bg-gray-100 text-gray-900'
                                        }">
                                            <p class="font-bold text-sm mb-1">${line.speaker}</p>
                                            <p class="text-lg font-bold mb-1">${line.urhobo}</p>
                                            <p class="text-sm opacity-90">${line.english}</p>
                                        </div>
                                    </div>
                                `).join('')}
                            </div>

                            ${state.conversationStep < currentConversation.dialogue.length && 
                              currentConversation.dialogue[state.conversationStep].shouldSay ? `
                                <div class="bg-gradient-to-r from-orange-100 to-pink-100 rounded-2xl p-6">
                                    <p class="text-sm text-gray-600 mb-2">Your turn to speak:</p>
                                    <p class="text-2xl font-bold text-orange-600 mb-1">
                                        ${currentConversation.dialogue[state.conversationStep].urhobo}
                                    </p>
                                    <p class="text-gray-700 mb-4">
                                        ${currentConversation.dialogue[state.conversationStep].english}
                                    </p>
                                    
                                    <input
                                        type="text"
                                        id="userResponseInput"
                                        value="${state.userResponse}"
                                        oninput="updateResponse(this.value)"
                                        placeholder="Type the Urhobo phrase..."
                                        class="w-full p-4 rounded-xl border-2 border-orange-300 focus:border-orange-500 outline-none mb-4"
                                    />
                                    
                                    <div class="flex gap-3">
                                        <button onclick="submitResponse()" class="flex-1 py-3 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-xl font-bold hover:shadow-lg transition-all">
                                            Submit Response
                                        </button>
                                        <button onclick="recordPronunciation()" class="px-6 py-3 rounded-xl font-bold transition-all ${
                                            state.isRecording
                                                ? 'bg-red-500 text-white animate-pulse'
                                                : 'bg-white border-2 border-purple-500 text-purple-600 hover:bg-purple-50'
                                        }">
                                            üé§
                                        </button>
                                    </div>
                                    
                                    ${state.conversationFeedback ? `
                                        <p class="mt-4 text-center font-bold text-lg ${
                                            state.conversationFeedback.includes('‚úÖ') ? 'text-green-600' : 'text-red-600'
                                        }">
                                            ${state.conversationFeedback}
                                        </p>
                                    ` : ''}
                                </div>
                            ` : ''}

                            ${state.pronunciationScore ? `
                                <div class="mt-4 p-6 bg-green-100 rounded-2xl text-center animate-bounce">
                                    <p class="text-2xl font-bold text-green-600">
                                        üéâ Pronunciation Score: ${state.pronunciationScore}%
                                    </p>
                                    <p class="text-green-700">+${state.pronunciationScore} points earned!</p>
                                </div>
                            ` : ''}
                        </div>
                    </div>
                </div>
            `;
        }

        // Event handlers
        function attachEventListeners() {
            window.addEventListener('scroll', () => {
                state.scrolled = window.scrollY > 50;
                render();
            });
        }

        function playAudio() {
            state.isPlaying = true;
            render();
            setTimeout(() => {
                state.isPlaying = false;
                render();
            }, 1000);
        }

        function likeWord() {
            if (state.likedItems.has('word')) {
                state.likedItems.delete('word');
            } else {
                state.likedItems.add('word');
                state.userPoints += 5;
            }
            render();
        }

        function bookmarkWord() {
            if (state.bookmarkedItems.has('word')) {
                state.bookmarkedItems.delete('word');
            } else {
                state.bookmarkedItems.add('word');
            }
            render();
        }

        function answerQuiz(index) {
            state.quizAnswer = index;
            state.showQuizResult = true;
            if (index === 1) {
                state.userPoints += 10;
            }
            render();
            setTimeout(() => {
                state.showQuizResult = false;
                state.quizAnswer = null;
                render();
            }, 2000);
        }

        function changeVocabCategory(category) {
            state.activeVocabCategory = category;
            render();
        }

        function showLearning() {
            state.showLearningModule = true;
            render();
        }

        function showConversation() {
            state.showConversationPractice = true;
            render();
        }

        function backToHome() {
            state.showLearningModule = false;
            state.showConversationPractice = false;
            state.currentLesson = 0;
            state.lessonProgress = 0;
            state.conversationStep = 0;
            state.userResponse = '';
            state.conversationFeedback = '';
            render();
        }

        function changeLesson(index) {
            state.currentLesson = index;
            state.lessonProgress = 0;
            render();
        }

        function completeLesson() {
            if (state.lessonProgress < 100) {
                state.lessonProgress = 100;
                state.userPoints += 50;
            }
            render();
        }

        function recordPronunciation() {
            state.isRecording = true;
            render();
            setTimeout(() => {
                state.isRecording = false;
                const score = Math.floor(Math.random() * 30) + 70;
                state.pronunciationScore = score;
                state.userPoints += score;
                render();
                setTimeout(() => {
                    state.pronunciationScore = null;
                    render();
                }, 3000);
            }, 2000);
        }

        function updateResponse(value) {
            state.userResponse = value;
        }

        function submitResponse() {
            const currentDialogue = conversationDialogues[0].dialogue[state.conversationStep];
            if (state.userResponse.toLowerCase().includes(currentDialogue.urhobo.toLowerCase().slice(0, 4))) {
                state.conversationFeedback = '‚úÖ Perfect! Well done!';
                state.userPoints += 15;
                render();
                setTimeout(() => {
                    if (state.conversationStep < conversationDialogues[0].dialogue.length - 1) {
                        state.conversationStep++;
                    } else {
                        state.conversationStep = 0;
                    }
                    state.conversationFeedback = '';
                    state.userResponse = '';
                    render();
                }, 2000);
            } else {
                state.conversationFeedback = '‚ùå Try again! Check the hint above.';
                render();
            }
        }

        // Auto-rotate words
        setInterval(() => {
            state.currentWordIndex = (state.currentWordIndex + 1) % wordsOfDay.length;
            if (!state.showLearningModule && !state.showConversationPractice) {
                render();
            }
        }, 5000);

        // Initial render
        render();
    </script>
</body>
</html>
